Public dialects are typically separated into at least 3 directories:

 * mlir/include/mlir/Dialect/Foo (for public include files)
 * mlir/lib/Dialect/Foo (for sources)
 * mlir/lib/Dialect/Foo/IR (for operations)
 * mlir/lib/Dialect/Foo/Transforms (for transforms)
 * mlir/test/Dialect/Foo (for tests)

Along with other public headers, the ‘include’ directory contains a TableGen file in the ODS format, describing the operations in the dialect. This is used to generate operation declarations (FooOps.h.inc) and definitions (FooOps.cpp.inc) and operation interface declarations (FooOpsInterfaces.h.inc) and definitions (FooOpsInterfaces.cpp.inc).

The ‘IR’ directory typically contains implementations of functions for the dialect which are not automatically generated by ODS. These are typically defined in FooDialect.cpp, which includes FooOps.cpp.inc and FooOpsInterfaces.h.inc.

The ‘Transforms’ directory contains rewrite rules for the dialect, typically described in TableGen file using the DDR format.

Note that dialect names should not generally be suffixed with “Ops”, although some files pertaining only to the operations of a dialect (e.g. FooOps.cpp) might be.

